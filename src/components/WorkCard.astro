---
export interface Props {
  title: string;
  href: string;
  description?: string;
}

const { title, href, description } = Astro.props;

let displayUrl = href;
try {
  const url = new URL(href);
  displayUrl = `${url.hostname}${url.pathname}`.replace(/\/$/, "");
} catch {
  displayUrl = href;
}
---

<li class="glass rounded-xl p-4 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg">
  <a
    href={href}
    target="_blank"
    rel="noopener noreferrer"
    class="group block h-full"
    aria-label={title}
    title={title}
  >
    <div class="flex items-start justify-between gap-3">
      <h2 class="text-lg font-semibold text-accent underline-offset-4 group-hover:underline">
        {title}
      </h2>
      <span aria-hidden="true" class="mt-1 text-sm opacity-70">â†—</span>
    </div>
    {description && <p class="mt-2 text-sm opacity-90">{description}</p>}
    <p class="mt-3 text-xs opacity-70">{displayUrl}</p>
  </a>
</li>
